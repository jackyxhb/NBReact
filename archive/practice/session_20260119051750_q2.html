<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NBReact - Q2: useFetch Hook</title>
    <style>
      :root {
        --bg-primary: #1e1e1e;
        --bg-secondary: #252526;
        --bg-tertiary: #2d2d30;
        --text-primary: #d4d4d4;
        --text-secondary: #9cdcfe;
        --accent: #0ea5e9;
        --success: #4ade80;
        --error: #f87171;
        --border: #404040;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: var(--bg-primary);
        color: var(--text-primary);
        height: 100vh;
        overflow: hidden;
      }

      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 20px;
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        border-bottom: 1px solid var(--border);
      }

      .logo {
        font-size: 18px;
        font-weight: 600;
        color: var(--accent);
      }

      .badge {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 12px;
        font-size: 12px;
        font-weight: 600;
        color: white;
        margin-left: 8px;
      }

      .topic-badge {
        background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      }

      .difficulty-badge {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      }

      .completed-badge {
        background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
      }

      .main-container {
        display: flex;
        height: calc(100vh - 57px);
      }

      .problem-panel {
        width: 50%;
        overflow-y: auto;
        padding: 24px;
        background: var(--bg-secondary);
      }

      .problem-title {
        font-size: 24px;
        font-weight: 700;
        margin-bottom: 20px;
        color: white;
      }

      .problem-section {
        margin-bottom: 24px;
      }

      .section-title {
        font-size: 13px;
        font-weight: 600;
        color: var(--accent);
        margin-bottom: 10px;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .section-content {
        line-height: 1.7;
      }

      .section-content ol {
        padding-left: 20px;
        margin-top: 8px;
      }

      .section-content ol li {
        margin-bottom: 8px;
      }

      .constraints-list {
        list-style: none;
        padding-left: 0;
      }

      .constraints-list li {
        padding: 6px 0;
        font-size: 14px;
      }

      .constraints-list li::before {
        content: 'â€¢';
        color: var(--accent);
        margin-right: 8px;
      }

      .sample-box {
        background: var(--bg-tertiary);
        border-radius: 8px;
        padding: 16px;
        margin-top: 10px;
        font-family: 'JetBrains Mono', monospace;
        font-size: 13px;
        white-space: pre-wrap;
        border-left: 3px solid var(--accent);
      }

      code {
        background: var(--bg-tertiary);
        padding: 2px 6px;
        border-radius: 4px;
        font-family: 'JetBrains Mono', monospace;
        font-size: 13px;
        color: #f472b6;
      }

      .solution-panel {
        flex: 1;
        overflow-y: auto;
        padding: 24px;
        background: var(--bg-primary);
      }

      .score-box {
        background: linear-gradient(135deg, #22c55e20 0%, #16a34a20 100%);
        border: 1px solid var(--success);
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 20px;
      }

      .score-value {
        font-size: 32px;
        font-weight: 700;
        color: var(--success);
      }

      .solution-title {
        font-size: 18px;
        font-weight: 600;
        color: var(--success);
        margin-bottom: 16px;
      }
    </style>
  </head>

  <body>
    <header class="header">
      <div class="logo">
        ðŸŽ¯ NBReact
        <span class="badge topic-badge">React</span>
        <span class="badge difficulty-badge">Medium</span>
        <span class="badge completed-badge">âœ“ 95%</span>
      </div>
      <span style="color: var(--text-secondary)">Q2 of 5 | Archived</span>
    </header>

    <div class="main-container">
      <div class="problem-panel">
        <h1 class="problem-title">useFetch Custom Hook</h1>

        <div class="problem-section">
          <h2 class="section-title">Problem Statement</h2>
          <div class="section-content">
            Create a custom React hook called <code>useFetch</code> that handles data fetching with
            loading and error states:
            <ol>
              <li><strong>Accept a URL</strong> as a parameter</li>
              <li>
                <strong>Return an object</strong> with <code>data</code>, <code>loading</code>,
                <code>error</code>, and <code>refetch</code>
              </li>
              <li><strong>Fetch data</strong> when the component mounts or URL changes</li>
              <li><strong>Handle loading state</strong> while the request is in progress</li>
              <li><strong>Handle errors</strong> gracefully</li>
              <li><strong>Provide a refetch function</strong> to manually trigger a new request</li>
            </ol>
          </div>
        </div>

        <div class="problem-section">
          <h2 class="section-title">Constraints</h2>
          <ul class="constraints-list">
            <li>
              Use <code>useState</code> for <code>data</code>, <code>loading</code>, and
              <code>error</code> states
            </li>
            <li>Use <code>useEffect</code> to trigger the fetch</li>
            <li>Use <code>useCallback</code> for the <code>refetch</code> function</li>
            <li>Handle cleanup when component unmounts (AbortController)</li>
          </ul>
        </div>
      </div>

      <div class="solution-panel">
        <div class="score-box">
          <div class="score-value">Score: 95%</div>
          <div style="color: var(--text-secondary); margin-top: 8px">
            Attempts: 2 | Completed: 2026-01-21
          </div>
        </div>

        <h2 class="solution-title">âœ“ Your Final Solution</h2>
        <div class="sample-box">
          import { useState, useEffect, useCallback } from 'react'; function useFetch(url) { const
          [data, setData] = useState(null); const [loading, setLoading] = useState(true); const
          [error, setError] = useState(null); const fetchData = useCallback(async () => { let
          controller = new AbortController(); try { setLoading(true); setError(null); const response
          = await fetch(url, { signal: controller.signal }); if (!response.ok) { throw new
          Error(`HTTP Error! Status:` + response.status); } const json = await response.json();
          setData(json); } catch (err) { if (err.name !== 'AbortError') { setError(err);
          setData(null); } } finally { setLoading(false); } return controller; }, [url]);
          useEffect(() => { const controller = fetchData(); return () => { controller.then(c =>
          c?.abort()); } }, [fetchData]); return { data, loading, error, refetch: fetchData } }
          export default useFetch;
        </div>

        <div class="problem-section" style="margin-top: 24px">
          <h2 class="section-title">Key Learnings</h2>
          <ul class="constraints-list">
            <li><strong>AbortController</strong> for cleanup on unmount</li>
            <li><strong>try/catch/finally</strong> for comprehensive error handling</li>
            <li><strong>response.ok</strong> to check HTTP success status</li>
          </ul>
        </div>
      </div>
    </div>
  </body>
</html>
